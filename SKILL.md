---
name: weibo-hot-analysis
description: "Automatically fetches Weibo hot topics, analyzes each topic using web search to extract product ideas, and generates an HTML report with product innovation scores. Use when users want to analyze Weibo trending topics for product development ideas via /weibo-hot or /wb command."
license: MIT
---

# 微博热搜产品创意分析 Skill (/weibo-hot, /wb)

## 🎯 功能概述

自动抓取微博热搜榜单，对每个热搜话题进行深度分析，提取产品创意并生成可视化HTML报告。

### 核心功能
1. 📊 自动抓取微博热搜TOP榜单
2. 🔍 对每个话题进行Web搜索，获取详细背景信息
3. 🧠 AI分析提取产品创意（有趣度80% + 有用度20%评分体系）
4. 📄 生成精美的HTML报告，采用卡片式布局突出产品创意

## 触发条件

| 触发方式 | 示例 |
|---------|------|
| 斜杠命令 | `/weibo-hot`, `/wb` |
| 指定数量 | `/weibo-hot 15`, `/wb 5` |
| 中文需求 | "分析微博热搜产品创意", "生成微博热点产品分析" |
| 英文需求 | "analyze weibo hot topics", "weibo product ideas" |

## 工作流程

### Step 1: 环境准备
- 检查Python环境
- 检查依赖库 (requests, beautifulsoup4)
- 验证API配置（天数据微博热搜API）

### Step 2: 抓取微博热搜
- 调用天数据微博热搜API (https://apis.tianapi.com/weibohot/index)
- 获取当前热搜榜单（TOP 10-20）
- 提取话题标题、热度排名

### Step 3: 深度分析每个热点
**并行处理每个热搜话题：**
- 使用Web Search工具搜索相关新闻和背景
- 生成三阶段事件脉络（起因、发展、影响）- 基于话题关键词生成真实内容，非套话
- 调用AI进行产品创意分析
- 计算综合评分：`评分 = 有趣度 × 0.8 + 有用度 × 0.2`

### Step 4: 生成HTML报告
- 生成包含日期的文件名（如：`weibo_hot_20260116_1.html`）
- 按评分排序展示产品创意
- **优化后的布局设计：**
  - 🎯 紧凑的顶部标题区（减少占用空间）
  - 📋 压缩的事件脉络区（浅灰背景，关键信息精简展示）
  - 💡 **突出的产品创意详情区（黄色渐变背景 + 边框高亮）**
  - 热度值仅在有效数据时显示

### Step 5: 输出结果
- 在对话中展示简要摘要
- 提供HTML文件路径
- 自动在浏览器中打开

## 输入/输出契约

### 输入格式
```
/weibo-hot           # 默认分析10个
/weibo-hot 15       # 分析TOP 15
/wb 5              # 快捷命令分析5个
```

### 输出格式
```
✅ 微博热搜产品创意分析报告已生成!
文件路径: skills/weibo-resou/output/weibo_hot_20260116_1.html

📊 分析概况:
- 分析热点数量: 15个
- 优秀创意(≥80分): 3个
- 良好创意(60-80分): 7个
- 一般创意(<60分): 5个

🌟 TOP3 优秀创意:
1. [创意名称] - 评分: 87分
   核心功能: [简要描述]
```

## HTML报告设计

### 视觉层级
```
┌─────────────────────────────────────────┐
│  紧凑标题区（渐变背景小字体）              │
│  ┌───┬───┬───┬───┐ 统计数据卡片        │
└─────────────────────────────────────────┘
         ↓
┌─────────────────────────────────────────┐
│  📱 白色卡片 + 绿色边框                   │
│  ┌───────────────────────────────────┐  │
│  │ 顶部信息区（浅绿背景）              │  │
│  │ 🔥 #话题名# [热]   ★ 评分         │  │
│  └───────────────────────────────────┘  │
│  ┌───────────────────────────────────┐  │
│  │ 📋 事件脉络（浅灰背景，压缩样式）    │  │
│  │ • 起因: [具体事件内容]              │  │
│  │ • 发展: [具体发展过程]              │  │
│  │ • 影响: [具体影响描述]              │  │
│  └───────────────────────────────────┘  │
│  ┌───────────────────────────────────┐  │
│  │ 💡 产品创意详情（黄色渐变背景）⭐   │  │
│  │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │  │
│  │ 🎯 产品名称                        │  │
│  │ ⚙️ 核心功能                        │  │
│  │ 👥 目标用户                        │  │
│  │ 📊 评分详情                        │  │
│  └───────────────────────────────────┘  │
└─────────────────────────────────────────┘
```

### 布局特点
- **大标题区压缩**: padding: 15px, h1: 1.4em, 紧凑统计卡片
- **事件脉络区压缩**: 浅灰背景(#f8fafc), 小字体(0.85em), 精简间距
- **产品创意详情突出**: 黄色渐变背景(#fefce8→#fef9c3), 2px黄色边框, 虚线分隔

## 产品创意评分标准

```python
综合评分 = 有趣度 × 0.8 + 有用度 × 0.2

# 有趣度评分维度 (80分)
- 创新性 (30分): 概念新颖程度
- 痛点洞察 (25分): 是否抓住真实痛点
- 潜力空间 (15分): 市场潜力大小
- 社交属性 (10分): 是否具备传播性

# 有用度评分维度 (20分)
- 实用性 (10分): 解决实际问题的能力
- 可行性 (10分): 技术实现难度
```

## 事件脉络生成规则

### 基于话题类型的具体内容生成
- **价格/商品类**: 提取具体数字和品牌信息，生成定价讨论脉络
- **娱乐影视类**: 根据演员/作品名称，生成行业话题脉络
- **游戏类**: 基于游戏名称，生成玩家社区讨论脉络
- **科技/医疗类**: 针对技术突破，生成行业关注脉络
- **事故/事件类**: 提取伤亡数字和地点，生成事件进展脉络

### 三阶段结构
```python
{
  'cause': '基于具体话题的起因描述（提取关键信息）',
  'develop': '基于搜索结果或话题内容的发展描述',
  'impact': '基于话题影响的具体影响描述'
}
```

## 文件结构

```
weibo-resou/
├── SKILL.md                    # Skill定义文件
├── weibo_hot_analyzer.py        # 主分析脚本
├── config.json                  # API配置文件
├── README.md                    # 使用说明
└── output/                      # 生成的HTML报告目录
    └── weibo_hot_YYYYMMDD_N.html
```

## 配置说明

创建 `config.json` 文件：

```json
{
  "weibo_api": {
    "url": "https://apis.tianapi.com/weibohot/index",
    "key": "your_api_key_here"
  },
  "analysis": {
    "default_count": 10,
    "enable_ai_analysis": true,
    "enable_web_search": true,
    "max_concurrent_searches": 5
  },
  "output": {
    "directory": "output",
    "auto_open": true
  }
}
```

## 错误处理

| 场景 | 处理 |
|-----|------|
| API调用失败 | 使用备用数据源或降级处理 |
| 网络超时 | 重试2次后跳过该热点 |
| Web搜索无结果 | 基于话题关键词生成具体内容 |
| 热度值为0 | 隐藏热度显示标签 |
| HTML生成失败 | 降级为JSON格式输出 |

## 质量保证

### 输出质量检查
- ✅ 每个热点都包含具体的三阶段事件脉络（非套话）
- ✅ 每个创意都包含名称、核心功能、目标用户
- ✅ 评分基于明确的评分维度
- ✅ HTML文件命名包含日期，同一天按序号递增
- ✅ 产品创意详情区有明显的视觉高亮（黄色渐变）
- ✅ 热度值仅在有效时显示

### 内容个性化
- ✅ 事件脉络基于话题关键词生成具体描述
- ✅ 产品功能和痛点针对话题类型定制
- ✅ 提取数字、品牌等关键信息融入内容

### 性能优化
- 并行处理Web搜索请求
- 限制单次分析的热点数量（建议≤20）
- 压缩HTML布局减少视觉冗余

## 使用示例

### 基本用法
```
/wb
```

### 指定数量
```
/weibo-hot 15
```

### 快捷命令
```
/wb 5
```

## 技术架构

```
┌─────────────────────────────────────────────────────┐
│                   微博热搜API                          │
│         (获取热搜榜单TOP N)                            │
└─────────────────┬───────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────┐
│              Web搜索模块                             │
│   (搜索每个热点的新闻、背景)                          │
└─────────────────┬───────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────┐
│         事件脉络生成模块（话题关键词分析）              │
│   (起因/发展/影响 - 基于具体内容生成)                   │
└─────────────────┬───────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────┐
│              AI产品创意分析模块                       │
│   (提取创意、评分、生成目标用户画像)                   │
└─────────────────┬───────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────────────┐
│              HTML报告生成模块                         │
│   (压缩标题 + 压缩脉络 + 突出产品详情)                 │
└─────────────────┬───────────────────────────────────┘
                  │
                  ▼
            📄 最终HTML报告
```

## 依赖库

```bash
pip install requests beautifulsoup4
```

## 注意事项

⚠️ **重要提醒**：
1. 请妥善保管API密钥，不要提交到版本控制
2. Web搜索可能产生额外费用（如使用付费API）
3. 建议限制单次分析的热点数量，避免API调用超限
4. 事件脉络内容基于话题关键词生成，可能与真实事件有偏差
5. 热度值取决于API返回数据，可能为空或不准确

## 未来规划

- [ ] 支持多个热点平台（抖音、知乎等）
- [ ] 添加产品创意可行性评估
- [ ] 集成竞品分析功能
- [ ] 导出为PDF或Word格式
- [ ] 添加产品创意推荐系统
- [ ] 接入真实AI API提升分析质量
